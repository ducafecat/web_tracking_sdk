# ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ç¬¬ä¸€æ­¥: å®‰è£…ä¾èµ–

```bash
yarn install
```

## ç¬¬äºŒæ­¥: åˆå§‹åŒ– Git Hooks

```bash
yarn prepare
```

## ç¬¬ä¸‰æ­¥: éªŒè¯ç¯å¢ƒ

```bash
# ç±»å‹æ£€æŸ¥
yarn type-check

# è¿è¡Œæµ‹è¯•
yarn test

# æ„å»ºé¡¹ç›®
yarn build
```

## ç¬¬å››æ­¥: å¼€å§‹å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
yarn dev
```

## é¡¹ç›®ä¿¡æ¯

âœ… **é¡¹ç›®å·²å®Œæˆç°ä»£åŒ–åˆå§‹åŒ–**

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **TypeScript 5.5+** - ä¸¥æ ¼æ¨¡å¼ï¼Œå®Œæ•´ç±»å‹æ”¯æŒ
- **tsup** - åŸºäº esbuild çš„å¿«é€Ÿæ„å»ºå·¥å…·
- **Vitest** - ç°ä»£åŒ–æµ‹è¯•æ¡†æ¶
- **ESLint + Prettier** - ä»£ç è´¨é‡ä¿è¯
- **Husky + lint-staged** - Git æäº¤è§„èŒƒ
- **Commitlint** - Commit ä¿¡æ¯è§„èŒƒ
- **Yarn 1.x** - ç»å…¸ç¨³å®šçš„åŒ…ç®¡ç†å™¨

### ğŸ“¦ è¾“å‡ºæ ¼å¼

é¡¹ç›®æ”¯æŒåŒæ ¼å¼è¾“å‡º:

- **ESM**: `dist/index.js` + `dist/index.d.ts`
- **CJS**: `dist/index.cjs` + `dist/index.d.cts`

å¯åŒæ—¶ç”¨äº Node.js å’Œæµè§ˆå™¨ç¯å¢ƒã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

SDK å·²åŒ…å«åŸºç¡€æ¡†æ¶:

- âœ… äº‹ä»¶æ”¶é›†ä¸é˜Ÿåˆ—ç®¡ç†
- âœ… ç”¨æˆ·èº«ä»½è¯†åˆ« (UID)
- âœ… è‡ªåŠ¨ä¸Šä¸‹æ–‡ä¿¡æ¯é‡‡é›† (UA, Referer, URI)
- âœ… ç±»å‹å®‰å…¨çš„äº‹ä»¶å®šä¹‰
- âœ… çµæ´»çš„é…ç½®é€‰é¡¹
- â³ æ‰¹é‡ä¸ŠæŠ¥ï¼ˆå¾…å®ç°ï¼‰
- â³ ç¦»çº¿å­˜å‚¨ï¼ˆå¾…å®ç°ï¼‰
- â³ é‡è¯•æœºåˆ¶ï¼ˆå¾…å®ç°ï¼‰

### ğŸ“‚ é¡¹ç›®ç»“æ„

```
holink_tracking_plugin_ts/
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ __tests__/              # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ sdk.test.ts         # SDK å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ index.ts                # å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ sdk.ts                  # SDK ä¸»ç±»ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
â”‚   â””â”€â”€ types.ts                # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ examples/                   # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ basic-usage.ts          # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ nuxt-plugin.ts          # Nuxt 4 æ’ä»¶ç¤ºä¾‹
â”œâ”€â”€ docs/                       # ä¸šåŠ¡æ–‡æ¡£
â”œâ”€â”€ dist/                       # æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ .vscode/                    # VSCode é…ç½®
â”‚   â”œâ”€â”€ settings.json           # ç¼–è¾‘å™¨è®¾ç½®
â”‚   â””â”€â”€ extensions.json         # æ¨èæ‰©å±•
â”œâ”€â”€ .husky/                     # Git Hooks
â”‚   â”œâ”€â”€ pre-commit              # æäº¤å‰æ£€æŸ¥
â”‚   â””â”€â”€ commit-msg              # Commit ä¿¡æ¯æ ¡éªŒ
â”œâ”€â”€ .eslintrc.cjs               # ESLint é…ç½®
â”œâ”€â”€ .prettierrc.json            # Prettier é…ç½®
â”œâ”€â”€ .editorconfig               # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ commitlint.config.cjs       # Commit è§„èŒƒé…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ tsup.config.ts              # æ„å»ºé…ç½®
â”œâ”€â”€ vitest.config.ts            # æµ‹è¯•é…ç½®
â”œâ”€â”€ package.json                # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ SETUP.md                    # è¯¦ç»†åˆå§‹åŒ–æŒ‡å—
â””â”€â”€ QUICK_START.md              # æœ¬æ–‡ä»¶
```

### ğŸ”— ç›¸å…³æ–‡æ¡£

- **README.md** - é¡¹ç›®æ•´ä½“ä»‹ç»å’Œ API æ–‡æ¡£
- **SETUP.md** - è¯¦ç»†çš„åˆå§‹åŒ–å’Œå¼€å‘æŒ‡å—
- **docs/** - ä¸šåŠ¡éœ€æ±‚å’Œ API è®¾è®¡æ–‡æ¡£
- **examples/** - ä½¿ç”¨ç¤ºä¾‹ä»£ç 

### ğŸ“ å¼€å‘è§„èŒƒ

#### Commit è§„èŒƒ

```bash
# ä½¿ç”¨äº¤äº’å¼æäº¤å·¥å…·
yarn commit

# æˆ–ç›´æ¥æäº¤ï¼ˆéœ€ç¬¦åˆè§„èŒƒï¼‰
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git commit -m "fix: ä¿®å¤bug"
git commit -m "docs: æ›´æ–°æ–‡æ¡£"
```

#### ä»£ç è§„èŒƒ

é¡¹ç›®å·²é…ç½®è‡ªåŠ¨æ ¼å¼åŒ–å’Œæ£€æŸ¥:

- ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– (éœ€å®‰è£… Prettier æ‰©å±•)
- æäº¤æ—¶è‡ªåŠ¨ lint æ£€æŸ¥
- Commit ä¿¡æ¯è‡ªåŠ¨æ ¡éªŒ

### ğŸ¨ æ¨èçš„ VSCode æ‰©å±•

é¡¹ç›®å·²é…ç½®æ¨èæ‰©å±•åˆ—è¡¨ (`.vscode/extensions.json`):

1. **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
2. **Prettier** - ä»£ç æ ¼å¼åŒ–
3. **Vitest** - æµ‹è¯•è¿è¡Œå™¨
4. **Pretty TypeScript Errors** - æ›´å‹å¥½çš„ TS é”™è¯¯æç¤º
5. **Error Lens** - è¡Œå†…é”™è¯¯æ˜¾ç¤º

VSCode ä¼šè‡ªåŠ¨æç¤ºå®‰è£…è¿™äº›æ‰©å±•ã€‚

### ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
yarn test

# æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
yarn test:coverage

# æµ‹è¯• UI ç•Œé¢
yarn test:ui
```

### ğŸ“¦ æ„å»ºå‘å¸ƒ

```bash
# æ¸…ç†å¹¶æ„å»º
yarn clean && yarn build

# å‘å¸ƒåˆ° npm (éœ€å…ˆé…ç½® npm è´¦å·)
npm publish --access public
```

### ğŸ’¡ ä¸‹ä¸€æ­¥

1. **å®ç°æ ¸å¿ƒåŠŸèƒ½**
   - æ‰¹é‡ä¸ŠæŠ¥æœºåˆ¶
   - ç¦»çº¿å­˜å‚¨
   - é‡è¯•é€»è¾‘
   - è‡ªåŠ¨é‡‡é›†åŠŸèƒ½

2. **ç¼–å†™æµ‹è¯•**
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•
   - è¦†ç›–ç‡è¾¾åˆ° 80%+

3. **å®Œå–„æ–‡æ¡£**
   - API è¯¦ç»†è¯´æ˜
   - ä½¿ç”¨åœºæ™¯ç¤ºä¾‹
   - æœ€ä½³å®è·µ

4. **æ€§èƒ½ä¼˜åŒ–**
   - å‡å°‘åŒ…ä½“ç§¯
   - ä¼˜åŒ–è¿è¡Œæ—¶æ€§èƒ½
   - ä¼˜åŒ–å†…å­˜ä½¿ç”¨

### â“ å¸¸è§å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `yarn dev` | å¼€å‘æ¨¡å¼ |
| `yarn build` | æ„å»ºé¡¹ç›® |
| `yarn test` | è¿è¡Œæµ‹è¯• |
| `yarn lint` | ä»£ç æ£€æŸ¥ |
| `yarn format` | æ ¼å¼åŒ–ä»£ç  |
| `yarn commit` | äº¤äº’å¼æäº¤ |

---

ğŸ‰ **é¡¹ç›®åˆå§‹åŒ–å®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹ç¼–å†™ä¸šåŠ¡ä»£ç äº†ã€‚**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥é˜… `SETUP.md` æˆ–æäº¤ Issueã€‚

